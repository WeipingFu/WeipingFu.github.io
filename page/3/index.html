<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">






  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="知识记录">
<meta property="og:type" content="website">
<meta property="og:title" content="fwp个人博客">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="fwp个人博客">
<meta property="og:description" content="知识记录">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="fwp个人博客">
<meta name="twitter:description" content="知识记录">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>fwp个人博客</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">fwp个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/17/两列布局-左右两侧自适应/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/17/两列布局-左右两侧自适应/" itemprop="url">两列布局-左右两侧自适应</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-17T15:25:15+08:00">
                2017-04-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/17/两列布局-左右两侧自适应/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/17/两列布局-左右两侧自适应/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/04/17/两列布局-左右两侧自适应/" class="leancloud_visitors" data-flag-title="两列布局-左右两侧自适应">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>左侧由内容撑开，右侧撑满整个页面</p>
<h3 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h3><p>左侧浮动，右侧设置overflow</p>
<pre><code>.left {
    float: left;
    background: #f00;
}
.right {
    background: #0f0;
    overflow: hidden;
}
</code></pre><h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><p>ie9以下不支持</p>
<pre><code>.parent {
    display: flex;
}
.right {
    flex: 1;
}
</code></pre><h3 id="grid"><a href="#grid" class="headerlink" title="grid"></a>grid</h3><p>ie10以下不支持</p>
<pre><code>.parent{
    display:grid;
    grid-template-columns:auto 1fr;
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/17/两列布局-左侧定宽，右侧自适应/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/17/两列布局-左侧定宽，右侧自适应/" itemprop="url">两列布局-左侧定宽，右侧自适应</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-17T09:50:11+08:00">
                2017-04-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/17/两列布局-左侧定宽，右侧自适应/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/17/两列布局-左侧定宽，右侧自适应/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/04/17/两列布局-左侧定宽，右侧自适应/" class="leancloud_visitors" data-flag-title="两列布局-左侧定宽，右侧自适应">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h3 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h3><p>float浮动布局的缺点是浮动后会造成文本环绕、元素被覆盖等效果，以及需要及时清除浮动。如果各浮动元素的高度不同时，可能会出犬牙交错的效果.</p>
<h4 id="1-左侧浮动，右侧设置margin-left"><a href="#1-左侧浮动，右侧设置margin-left" class="headerlink" title="1. 左侧浮动，右侧设置margin-left"></a>1. 左侧浮动，右侧设置margin-left</h4><pre><code>.left: {
    float: left;
    width: 200px;
}
.right {
    margin-left: 200px;
}
</code></pre><p><strong>缺点1:</strong><br>IE6-浏览器下3像素bug，具体表现在右侧首行文字会向右偏移3px。解决办法是在left元素上设置margin-right: -100px<br><strong>缺点2:</strong><br>当右侧容器中有元素清除浮动时，会使该元素不与左侧浮动元素同行，从而出现文字下沉现象。</p>
<h4 id="2-左侧浮动，右侧设置margin且增加一层wraper"><a href="#2-左侧浮动，右侧设置margin且增加一层wraper" class="headerlink" title="2. 左侧浮动，右侧设置margin且增加一层wraper"></a>2. 左侧浮动，右侧设置margin且增加一层wraper</h4><p>为了解决上述方法中的两个缺点，可以通过增加结构来实现。右侧增加一层wraper并设置浮动，且wraper宽度必须设置为100%，若不设置，float后元素的宽度会由内容撑开，同时还需设置负margin值，使得两列元素在同一行。</p>
<pre><code>.left {
    float: left;
    width: 200px;
}
.right {
    margin-left: 200px;
}
.right-wraper {
    float: left;
    margin-left: -200px; 
    width: 100%;
}
</code></pre><h4 id="3-使用css3中的calc"><a href="#3-使用css3中的calc" class="headerlink" title="3. 使用css3中的calc()"></a>3. 使用css3中的calc()</h4><pre><code>.left {
    float: left;
    width: 200px;
}
.right {
    float: left;
    width: calc(100% - 200px);
}
</code></pre><h4 id="4-左侧浮动，右侧设置overflow"><a href="#4-左侧浮动，右侧设置overflow" class="headerlink" title="4. 左侧浮动，右侧设置overflow"></a>4. 左侧浮动，右侧设置overflow</h4><p>设置overflow为hidden可以触发BFC，阻止浮动造成的后果。</p>
<pre><code>.left: {
    float: left;
    width: 200px;
}
.right {
    overflow: hidden;
}
</code></pre><h3 id="绝对定位"><a href="#绝对定位" class="headerlink" title="绝对定位"></a>绝对定位</h3><p>absolute布局的缺点是由于父元素需要设置为relative，且子元素设置为absolute，所以父元素的高度并不是由子元素撑开的，需要单独设置。<br><strong>1. 左侧绝对定位，右侧设置margin-left</strong><br><strong>2. 左侧绝对定位，右侧绝对定位</strong></p>
<pre><code>.parent {
    position: relative;
    height: 200px;
}
.left: {
    position: absolute;
    left: 0;
    width: 200px;
}
.right {
    margin-left: 200px;
}
或
.right {
    position: absolute;
    left: 200px;
    right: 0;
}
</code></pre><h3 id="inline-block"><a href="#inline-block" class="headerlink" title="inline-block"></a>inline-block</h3><p>使用inline-block的主要缺点是需要设置垂直对齐方式vertical-align，则需要处理换行符解析成空格的间隙问题。<br>解决间隙：一般将父级元素的font-size设为0，然后在子元素中将font-size设为默认大小。</p>
<h4 id="1-利用calc"><a href="#1-利用calc" class="headerlink" title="1. 利用calc()"></a>1. 利用calc()</h4><pre><code>.parent {
    font-size: 0;
}
.left {
    display: inline-block;
    width: 200px;
    font-size: 16px;
    vertical-align: top;
}
.right {
    display: inline-block;
    width: calc(100% - 200px);
    font-size: 16px;
    vertical-align: top;
}
</code></pre><h4 id="2-右侧外层wraper"><a href="#2-右侧外层wraper" class="headerlink" title="2. 右侧外层wraper"></a>2. 右侧外层wraper</h4><pre><code>.parent {
    font-size: 0;
}
.left {
    position: relative;
    display: inline-block;
    width: 200px;
    font-size: 16px;
    vertical-align: top;
}

.right-wraper {
    display: inline-block;
    margin-left: -200px;
    width: 100%;
    font-size: 16px;
    vertical-align: top;
}
.right {
    margin-left: 200px; 
}
</code></pre><h3 id="table"><a href="#table" class="headerlink" title="table"></a>table</h3><p>使用table布局的缺点是元素被设置为table后，内容撑开宽度，所以需要设置width:100%。若要兼容IE7-浏览器，需要改为<table>结构。由于table-cell元素无法设置margin，若需要在元素间设置间距，需要增加结构。</table></p>
<pre><code>.parent {
    display: table;
    table-layout: fixed;
    width: 100%;
}
.left {
    display: table-cell;
    width: 200px;
}
.right {
    display: table-cell;
}
</code></pre><h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><p>flex弹性盒模型是非常强大的布局方式。但由于其性能消耗较大，适合于局部小范围的布局.<br>IE9以下不支持</p>
<pre><code>.parent {
    display: flex;
}
.left {
    width: 200px;
}
.right {
    flex: 1;
}
</code></pre><h3 id="grid"><a href="#grid" class="headerlink" title="grid"></a>grid</h3><p>IE10以下不支持</p>
<pre><code>.parent {
    display: grid;
    grid-template-columns: 200px 1fr;
    background: gray;
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/11/浏览器渲染路径/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/11/浏览器渲染路径/" itemprop="url">浏览器渲染路径</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T21:30:31+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/11/浏览器渲染路径/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/11/浏览器渲染路径/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/04/11/浏览器渲染路径/" class="leancloud_visitors" data-flag-title="浏览器渲染路径">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>当浏览器从服务器端获取到html文件后，要对其进行渲染，以像素点的方式在屏幕中绘制出页面的内容，经过的那些步骤叫关键渲染路径。关键渲染路径分为六步：</p>
<blockquote>
<p><strong>创建DOM树 -&gt; 创建CSSOM树 -&gt; 执行脚本 -&gt; 生成渲染树 -&gt; 生成布局 -&gt; 绘制</strong></p>
</blockquote>
<h3 id="创建DOM树"><a href="#创建DOM树" class="headerlink" title="创建DOM树"></a>创建DOM树</h3><p>DOM（文档对象模型）树是HTML页面完全解析后的一种表示方式。从根元素<html>开始，页面上每个元素或者文本都会创建一个对应的节点。每个节点都包含了这个元素的所有属性，并且嵌套在元素内的元素会被解析成外层元素对应的节点的子节点。<br>HTML可以部分执行并显示，也就是说，浏览器并不需要等待整个HTML全部解析完毕才开始显示页面。但是，其他的资源有可能阻塞页面的渲染，比如CSS，JavaScript等。</html></p>
<h3 id="创建CSSOM树"><a href="#创建CSSOM树" class="headerlink" title="创建CSSOM树"></a>创建CSSOM树</h3><p>CSSOM（CSS对象模型）树是对附在DOM结构上的样式的一种表示方式。它与DOM树的呈现方式相似，只是每个节点都带上样式 ，包括明确定义的和隐式继承的。<br>CSS是一种渲染阻塞资源(render blocking resource)，它需要完全被解析完毕之后才能进入生成渲染树的环节。CSS并不像HTML那样能执行部分并显示，因为CSS具有继承属性， 后面定义的样式会覆盖或者修改前面的样式。如果我们只使用样式表中部分解析好的样式，我们可能会得到错误的页面效果。<br>标签link rel=”stylesheet”&gt;接受media属性，该属性规定了此处的CSS文件适用于哪种设备。如果我们有个设备属性值为orientation: landscape(横向)的样式，当我们竖着浏览页面的时候，这个CSS资源是不会起作用的，也就不会阻塞渲染的过程了。<br>CSS也会阻塞脚本（js）运行。</p>
<h3 id="执行javaScript"><a href="#执行javaScript" class="headerlink" title="执行javaScript"></a>执行javaScript</h3><p>JavaScript是一种解析阻塞资源(parser blocking resource)，它能阻塞HTML页面的解析。<br>当页面解析到<script>标签，不管脚本是內联的还是外联，页面解析都会暂停，转而加载JavaScript文件（外联的话）并且执行JavaScript。这也是为什么如果JavaScript文件有引用HTML文档中的元素，JavaScript文件必须放在那个元素的后面。<br>为了避免JavaScript文件阻塞页面的解析，我们可以在<script>标签上添加async属性，使得JavaScript文件异步加载（异步加载就是在执行过程同时加载，这里说的是在解析html页面时，同时加载js文件，从而使得js文件不阻塞页面解析）。</p>
<h3 id="生成渲染树"><a href="#生成渲染树" class="headerlink" title="生成渲染树"></a>生成渲染树</h3><p>渲染树是DOM和CSSOM的结合，是最终能渲染到页面的元素的树形结构表示。也就是说，它包含能在页面中最终呈现的元素，而不包含那些用CSS样式隐藏的元素，比如带有display:none;属性的元素。</p>
<h3 id="生成布局"><a href="#生成布局" class="headerlink" title="生成布局"></a>生成布局</h3><p>对渲染树上的每个元素，计算它的坐标，称之为布局。浏览器采用一种流方法，布局一个元素只需通过一次，但是表格元素需要通过多次。<br>布局决定了视口的大小，为CSS样式提供了依据，比如百分比的换算或者视口的总像素值。视口大小是由meta标签的name属性为viewport的内容设置所决定的，如果缺少这个标签，默认的视口大小为980px。</p>
<h3 id="绘制"><a href="#绘制" class="headerlink" title="绘制"></a>绘制</h3><p>页面上可见的内容就会转化为屏幕上的像素点。<br>绘制过程所需要花费的时间取决于DOM的大小以及元素的CSS样式。有些样式比较耗时，比如一个复杂的渐变背景色比起简单的单色背景需要更多的时间来渲染。</p>
<p>当用户与网页交互，或者脚本程序改动修改网页时，前文提到的一些操作将会重复执行，因为网页的内在结构已经发生了改变。</p>
</script></p>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/11/clearfix/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/11/clearfix/" itemprop="url">浮动及其清除方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-11T15:32:30+08:00">
                2017-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/11/clearfix/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/11/clearfix/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/04/11/clearfix/" class="leancloud_visitors" data-flag-title="浮动及其清除方法">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p><strong>浮动元素会脱离文档流并向左／向右浮动，直到碰到父元素或者另一个浮动元素。</strong><br><strong>浮动可以理解为让某个div元素脱离标准流，漂浮在标准流之上，和标准流不是一个层次。</strong></p>
<p><strong>浮动的特征：</strong></p>
<ul>
<li>浮动会脱离文档：不影响普通元素的布局</li>
<li>浮动可以内联排列：浮动元素会向左或右浮动，直到碰到另一个浮动元素，这是浮动可以内联排列的原因；如果每个浮动元素高度不一样，会出现‘卡住’的情况</li>
<li>浮动会导致父元素高度坍塌</li>
</ul>
<h3 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h3><p>主要有两种方式，clear清除浮动和BFC清除浮动</p>
<h4 id="clear清除浮动"><a href="#clear清除浮动" class="headerlink" title="clear清除浮动"></a>clear清除浮动</h4><p>clear官方定义如下：</p>
<pre><code>clear : none | left | right | both

  取值：

  none  :  默认值。允许两边都可以有浮动对象

  left   :  不允许左边有浮动对象

  right  :  不允许右边有浮动对象

  both  :  两边都不允许有浮动对象
</code></pre><p><strong>clear清除浮动只能影响使用clear的元素本身，不能影响其他元素</strong></p>
<p>要解决父元素高度塌陷问题，需通过在别的元素上清除浮动来实现，而不是在浮动元素上。</p>
<pre><code>&lt;div class=&apos;container&apos;&gt;
    &lt;div class=&apos;float&apos;&gt;&lt;/div&gt;
    &lt;div class=&apos;float&apos;&gt;&lt;/div&gt;
    &lt;div class=&apos;float&apos;&gt;&lt;/div&gt;
    &lt;div style=&apos;clear:both&apos;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre><p><strong>clear清除浮动的通用方法：</strong><br>利用：after伪元素来实现<br><strong>方法1:</strong></p>
<pre><code>.clearfix {
    content: &apos;.&apos;;
    display: block,
    height: 0;
    visibility: hidden;
    clear: both;
}
.clearfix {
    *zoom: 1;       
}
</code></pre><p>1) display:block 使生成的元素以块级元素显示,占满剩余空间;<br>2) height:0 避免生成内容破坏原有布局的高度。<br>3) visibility:hidden 使生成的内容不可见，并允许可能被生成内容盖住的内容可以进行点击和交互;<br>4）通过 content:”.”生成内容作为最后一个元素，至于content里面是点还是其他都是可以的，firefox直到7.0 content:”” , 仍然会产生额外的空隙；<br>5）zoom：1 触发IE hasLayout。<br>通过分析发现，除了clear：both用来闭合浮动的，其他代码无非都是为了隐藏掉content生成的内容，这也就是其他版本的闭合浮动为什么会有font-size：0，line-height：0。</p>
<p><strong>更好的方法1:</strong><br>相对于空标签闭合浮动的方法代码似乎还是有些冗余，通过查询发现Unicode字符里有一个“零宽度空格”，也就是U+200B ，这个字符本身是不可见的，所以我们完全可以省略掉 visibility:hidden了。</p>
<pre><code>.clearfix {
    content: &apos;200B&apos;;
    display: block,
    height: 0;
    clear: both;
}
.clearfix {
    *zoom: 1;       
}
</code></pre><p><strong>更好的方法2:</strong></p>
<pre><code> //全浏览器通用的clearfix方法，引入zoom以支持IE6/7
 //加入：before以解决现代浏览器上边距折叠的问题
.clearfix:before,
.clearfix:after {
    display: table;
    content: &apos;&apos;,
}
.clearfix:after {
    clear: both;
}
.clearfix {
    *zoom: 1;
}
</code></pre><p>上面的方法用到了before伪元素，很多人对这个有些迷惑，到底我什么时候需要用before呢？为什么方案一没有呢？其实它是用来处理margin边距重叠的，由于内部元素 float 创建了BFC，导致内部元素的margin-top和 上一个盒子的margin-bottom 发生叠加。如果这不是你所希望的，那么就可以加上before，如果只是单纯的闭合浮动，after就够了。</p>
<h4 id="BFC清除浮动（不推荐使用）"><a href="#BFC清除浮动（不推荐使用）" class="headerlink" title="BFC清除浮动（不推荐使用）"></a>BFC清除浮动（不推荐使用）</h4><p>BFC容器是一个隔离的容器，和其他元素互不干扰；所以我们可以用触发两个元素的BFC来解决垂直边距折叠问题。<br>BFC可以包含浮动（引起元素高度重新计算），通常用来解决浮动父元素高度坍塌的问题。<br><strong>BFC触发方式</strong><br>可以给父元素添加以下属性来触发BFC：</p>
<ul>
<li>设置父元素float</li>
<li>overflow为 hidden | auto | scroll</li>
<li>display为 table-cell | table-caption | inline-block | flex | inline-flex</li>
<li>position为 absolute | fixed</li>
<li>fieldset元素</li>
</ul>
<p>可以给父元素设置overflow：auto来简单的实现BFC清除浮动，要兼容IE还需要加上zoom，或者设置overflow：hidden（对SEO不友好且元素阴影或下拉菜单等会被截断）<br>可以设置父元素也浮动，但是会影响父元素相邻的元素，我们不可能一直浮动到body</p>
<h3 id="浮动的适用场景"><a href="#浮动的适用场景" class="headerlink" title="浮动的适用场景"></a>浮动的适用场景</h3><h4 id="文字环绕效果"><a href="#文字环绕效果" class="headerlink" title="文字环绕效果"></a>文字环绕效果</h4><p>浮动最初就是为了实现文字环绕效果而诞生的</p>
<h4 id="页面布局"><a href="#页面布局" class="headerlink" title="页面布局"></a>页面布局</h4><p>浮动可以实现常规的多列布局（更推荐使用inline-block）以及自适应的多列布局</p>
<h4 id="多个元素内联排列"><a href="#多个元素内联排列" class="headerlink" title="多个元素内联排列"></a>多个元素内联排列</h4><p>浮动可以实现类似inline-block的排列，比如菜单多个元素内联排列。但推荐使用inline-block。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/28/排序算法总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/28/排序算法总结/" itemprop="url">排序算法总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-28T17:20:38+08:00">
                2017-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/28/排序算法总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/03/28/排序算法总结/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/03/28/排序算法总结/" class="leancloud_visitors" data-flag-title="排序算法总结">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>排序分为内部排序和外部排序，内部排序常见算法有：冒泡排序、插入排序、选择排序、快速排序、归并排序、希尔排序、堆排序等，总结如下表</p>
<p><table><br>    <tbody><br>        <tr><th></th><th colspan="3">时间复杂度</th><th></th><th></th></tr><br>        <tr><th>排序方法</th><th>平均情况</th><th>最坏情况</th><th>最好情况</th><th>空间复杂度</th><th>稳定性</th></tr><br>        <tr><th>冒泡排序</th><td>O(n^2)</td><td>O(n^2)</td><td>O(n)</td><td>O(1)</td><td>稳定</td></tr><br>        <tr><th>直接插入排序</th><td>O(n^2)</td><td>O(n^2)</td><td>O(n)</td><td>O(1)</td><td>稳定</td></tr><br>        <tr><th>简单选择排序</th><td>O(n^2)</td><td>O(n^2)</td><td>O(n^2)</td><td>O(1)</td><td>不稳定</td></tr><br>        <tr><th>快速排序</th><td>O(nlogn)</td><td>O(n^2)</td><td>O(nlogn)</td><td>O(logn)</td><td>不稳定</td></tr><br>        <tr><th>归并排序</th><td>O(nlogn)</td><td>O(nlogn)</td><td>O(nlogn)</td><td>O(n)</td><td>稳定</td></tr><br>        <tr><th>希尔排序</th><td>O(nlogn)</td><td>O(nlogn)</td><td></td><td>O(1)</td><td>不稳定</td></tr><br>        <tr><th>堆排序</th><td>O(nlogn)</td><td>O(nlogn)</td><td>O(nlogn)</td><td>O(1)</td><td>不稳定</td></tr><br>        <tr><th>基数排序</th><td>O(d(n+r))</td><td>O(d(n+r))</td><td>O(d(n+r))</td><td>O(n+r)</td><td>稳定</td></tr><br>    </tbody><br></table><br>稳定性，就是有两个相同的元素，排序先后的相对位置是否变化<br>稳定性的好处：排序算法如果是稳定的，那么从一个键上排序，然后再从另一个键上排序，第一个键排序的结果可以为第二个键排序所用。基数排序就 是这样，先按低位排序，逐次按高位排序，低位相同的元素其顺序再高位也相同时是不会改变的。</p>
<p><strong>1. 冒泡排序</strong><br>把小的元素往前调或者把大的元素往后调。每次遍历都与相邻的元素比较或交换，通过一趟排序把最大（最小）的数冒出来；<br>稳定性分析：如果两个元素相等，我想你是不会再无聊地把他们俩交换一下的；如果两个相等的元素没有相邻，那么即使通过前面的两两交换把两个相邻起来，这时候也不会交换，所以相同元素的前后顺序并没有改变，所以冒泡排序是一种稳定排序算法。<br><strong>具体实现：</strong></p>
<pre><code>//没有优化的冒泡排序
public void BubbleSort(int arr[]) {
    int length = arr.length;
    int temp = 0;
    for(int i = 0; i &lt; length - 1; i++) {
        for(int j = 0; j &lt; length - i - 1; j++) {
            if(arr[j] &gt; arr[j+1]) {
                temp = arr[j+1];
                arr[j+1] = arr[j];
                arr[j] = temp;
            }
        }
    }
}
//加入flag标志位，若flag=0，说明整个序列已排好序
public void BubbleSort2(int arr[]) {
    int flag = 0;
    for(int i = 0; i &lt; length - 1; i++) {
        flag = 0;
        for(int j = 0; j &lt; length - i - 1; j++) {
            if(arr[j] &gt; arr[j+1]) {
                temp = arr[j+1];
                arr[j+1] = arr[j];
                arr[j] = temp;
                flag = 1;
            }
        }
        if(flag == 0) {
            break;
        }
    }
}
</code></pre><p><strong>2. 直接插入排序</strong><br>在一个已经有序的小序列的基础上，一次插入一个元素。刚开始，这个有序的小序列只有1个元素，就是第一个元素。比较是从有序序列的末尾开始，也就是想要插入的元素和已经有序的最大者开始比较，如果比它大则直接插入在其后面，否则一直往前找直到找到它该插入的位置。如果碰见一个和插入元素相等的，那么插入元素把想插入的元素放在相等元素的后面。<br>稳定性分析：从上述排序过程中可以看出它是稳定的。<br><strong>扩展：</strong> <strong>二分插入排序</strong>：每次插入时，从中间位置开始比较，每次比较缩小一半范围。这种方法最坏情况比直接插入好，最好情况比直接插入差。<br><strong>直接插入排序实现：</strong></p>
<pre><code>public void Insertsort(int a[], int n)  
{  
    int i, j;  
    for (i = 1; i &lt; n; i++) { 
        if (a[i] &lt; a[i - 1])  
        {  
            int temp = a[i];  
            for (j = i - 1; j &gt;= 0 &amp;&amp; a[j] &gt; temp; j--)  
                a[j + 1] = a[j];  //后移
            a[j + 1] = temp;  
        }  
    }
}  
</code></pre><p><strong>3. 简单选择排序</strong><br>首先在未排序序列中找到最小（大）元素，存放到排序序列的起始位置；然后，再从剩余未排序元素中继续寻找最小（大）元素，放到已排序序列的末尾。以此类推，直到所有元素均排序完毕。<br>稳定性分析：举个例子，序列5 8 5 2 9，我们知道第一遍选择第1个元素5会和2交换，那么原序列中2个5的相对前后顺序就被破坏了，所以选择排序不是一个稳定的排序算法。<br><strong>具体实现：</strong></p>
<pre><code>public void selectionSort(int[] list) {
// 需要遍历获得最小值的次数
// 要注意一点，当要排序 N 个数，已经经过 N-1 次遍历后，已经是有序数列
    for (int i = 0; i &lt; list.length - 1; i++) {
        int temp = 0;
        int index = i; // 用来保存最小值得索引
        // 寻找第i个小的数值
        for (int j = i + 1; j &lt; list.length; j++) {
            if (list[index] &gt; list[j]) {
                index = j;
            }
        }
        // 将找到的第i个小的数值放在第i个位置上
        temp = list[index];
        list[index] = list[i];
        list[i] = temp;
        System.out.format(&quot;第 %d 趟:\t&quot;, i + 1);
        printAll(list);
    }
}
</code></pre><p><strong>4. 希尔排序</strong><br>也叫递减增量排序，是插入排序的一种更高效的改进版本。希尔排序是不稳定的排序算法。</p>
<p><strong>5. 快速排序</strong><br>快速排序使用分治策略(Divide and Conquer)来把一个序列分为两个子序列。步骤为：<br>（1）从序列中挑出一个元素，作为”基准”(pivot).<br>（2）把所有比基准值小的元素放在基准前面，所有比基准值大的元素放在基准的后面（相同的数可以到任一边），这个称为分区(partition)操作。<br>（3）对每个分区递归地进行步骤1~3，递归的结束条件是序列的大小是0或1，这时整体已经被排好序了。<br>稳定性分析：在中枢元素和a[j]交换的时候，很有可能把前面的元素的稳定性打乱，比如序列为 5 3 3 4 3 8 9 10 11，现在中枢元素5和3(第5个元素，下标从1开始计)交换就会把元素3的稳定性打乱，所以快速排序是一个不稳定的排序算法。<br><strong>具体实现如下：</strong></p>
<pre><code>public class QuickSort {
    public static int partition(int left, int right, int a[])    {
        int key = a[left];
        while(left &lt; right) {
            while(left &lt; right &amp;&amp; a[right] &gt;= key) {
                right--;
            }
            a[left] = a[right];
            while(left &lt; right &amp;&amp; a[left] &lt; key) {
                left++;
            }
            a[right] = a[left];
        }
        a[left] = key;
        return left;
    }
    public static void quicksort(int left, int right, int a[]) {
        if(left &lt; right) {
            int middle = partition(left, right, a);
            quicksort(left, middle-1, a);
            quicksort(middle+1, right, a);
        }
    }
    public static void main(String[] args) {
        int[] a = {49, 38, 65, 97, 76, 13, 27, 49};
        quicksort(0, a.length-1, a);
        for(int i = 0, len = a.length; i &lt; len; i++) {
            System.out.print(a[i]+&quot; &quot;);
        }
    }
}
</code></pre><p><strong>6.归并排序</strong><br>将待排序序列R[0…n-1]看成是n个长度为1的有序序列，将相邻的有序表成对归并，得到n/2个长度为2的有序表；将这些有序序列再次归并，得到n/4个长度为4的有序序列；如此反复进行下去，最后得到一个长度为n的有序序列。<br>归并排序其实要做两件事：<br>（1）“分解”——将序列每次折半划分。<br>（2）“合并”——将划分后的序列段两两合并后排序。<br><strong>合并过程：</strong><br>设两个有序序列分别为 R[low, mid] 和 R[mid+1, high]<br>先将他们合并到一个局部的暂存数组R2中，合并完成后再将R2复制回R中。<br>为了方便描述，我们称 R[low, mid] 第一段，R[mid+1, high] 为第二段。<br>每次从两个段中取出一个记录进行关键字的比较，将较小者放入R2中。最后将各段中余下的部分直接复制到R2中。<br>经过这样的过程，R2已经是一个有序的序列，再将其复制回R中，一次合并排序就完成了<br><strong>具体实现：</strong></p>
<pre><code>public class mergeSort {
    public static void merge(int low, int mid, int high, int[] arr) {
        int[] tempArr = new int[arr.length];
        int left = low;
        int center = mid + 1;
        int newLow = low;
        while(low &lt;= mid &amp;&amp; center &lt;= high) {
            if(arr[low] &lt;= arr[center]) {
                tempArr[left++] = arr[low++];
            } else {
                tempArr[left++] = arr[center++];
            }
        }
        while(low &lt;= mid) {
            tempArr[left++] = arr[low++];
        }
        while (center &lt;= high) {
            tempArr[left++] = arr[center++];
        }
        while (newLow &lt;= high) {
            arr[newLow] = tempArr[newLow];
            newLow++;
        }
    }

    public static void mergesort(int low, int high, int[] arr) {
        if(low &gt;= high)
            return;
        int mid = (low + high) / 2;
        mergesort(low, mid, arr);
        mergesort(mid+1, high, arr);
        merge(low, mid, high, arr);
    }

    public static void main(String[] args) {
        int[] array = {1, 3, 4, 2, 6, 8, 5, 9, 7};
        mergesort(0, array.length-1, array);
        for(int i = 0; i &lt; array.length; i++) {
            System.out.print(array[i] + &quot; &quot;);
        }
    }
}
</code></pre><p><strong>7.堆排序</strong><br>二叉堆是完全二叉树或者是近似完全二叉树。<br>二叉堆满足二个特性：<br>1．父结点的键值总是大于或等于（小于或等于）任何一个子节点的键值。<br>2．每个结点的左子树和右子树都是一个二叉堆（都是最大堆或最小堆）。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/23/阿里实习内推一面/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/23/阿里实习内推一面/" itemprop="url">阿里实习内推一面</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-23T20:45:50+08:00">
                2017-03-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/面试/" itemprop="url" rel="index">
                    <span itemprop="name">面试</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/23/阿里实习内推一面/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/03/23/阿里实习内推一面/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/03/23/阿里实习内推一面/" class="leancloud_visitors" data-flag-title="阿里实习内推一面">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-html5中sessionStorage和localStorage"><a href="#1-html5中sessionStorage和localStorage" class="headerlink" title="1.html5中sessionStorage和localStorage"></a>1.html5中sessionStorage和localStorage</h3><p>sessionStorage 和 localStorage 是 HTML5 Web Storage API 提供的，可以方便的在 web 请求之间保存数据。有了本地数据，就可以避免数据在浏览器和服务器间不必要地来回传递。<br><br>sessionStorage、 localStorage 、 cookie 都是在浏览器端存储的数据，其中 sessionStorage 的概念很特别，引入了一个“浏览器窗口”的概念。 sessionStorage 是在同源的同窗口（或 tab ）中，始终存在的数据。也就是说只要这个浏览器窗口没有关闭，即使刷新页面或进入同源另一页面，数据仍然存在。关闭窗口后， sessionStorage 即被销毁。同时“独立”打开的不同窗口，即使是同一页面， sessionStorage 对象也是不同的。cookies会发送到服务器端，其余两个不会。 <br><br>Microsoft 指出 Internet Explorer 8 增加 cookie 限制为每个域名 50 个，但 IE7 似乎也允许每个域名 50 个 cookie 。 Firefox 每个域名 cookie 限制为 50 个。 Opera 每个域名 cookie 限制为 30 个。 Firefox 和 Safari 允许 cookie 多达 4097 个字节，包括名（ name ）、值（ value ）和等号。 Opera 许 cookie 多达 4096 个字节，包括：名（ name ）、值（ value ）和等号。 Internet Explorer 允许 cookie 多达 4095 个字节，包括：名（ name ）、值（ value ）和等号。 </p>
<p><strong>区别：</strong> </p>
<p><strong>- Cookie</strong> <br></p>
<ul>
<li>每个域名存储量比较小（各浏览器不同，大致 4K ） <br></li>
<li>所有域名的存储量有限制（各浏览器不同，大致 4K ）<br> </li>
<li>有个数限制（各浏览器不同）<br> </li>
<li>会随请求发送到服务器 <br><br><strong>- LocalStorage</strong> <br></li>
<li>永久存储 <br></li>
<li>单个域名存储量比较大（推荐 5MB ，各浏览器不同） <br></li>
<li>总体数量无限制 <br><br><strong>- SessionStorage</strong> <br></li>
<li>只在 Session 内有效 <br></li>
<li>存储量更大（推荐没有限制，但是实际上各浏览器也不同）</li>
</ul>
<p><strong>sessionStorage和localStorage用法</strong> <br><br>setItem( key, value)  <br><br>getItem( key ) <br><br>removeItem(key) <br><br>clear() <br><br>用.和[]获取键值 <br><br>storage事件: 当键值改变或者clear的时候，就可以触发</p>
<h3 id="2-纯css实现三角形"><a href="#2-纯css实现三角形" class="headerlink" title="2.纯css实现三角形"></a>2.纯css实现三角形</h3><p>border属性四边交集的地方其实是一个梯形状，当div的width、height都为0时，四边相交会发展成三角形。具体看<a href="http://www.cnblogs.com/jack-chan/p/5024129.html" target="_blank" rel="external">http://www.cnblogs.com/jack-chan/p/5024129.html</a></p>
<h3 id="3-在IE下实现一个高为1px的div"><a href="#3-在IE下实现一个高为1px的div" class="headerlink" title="3.在IE下实现一个高为1px的div"></a>3.在IE下实现一个高为1px的div</h3><p>IE6及以下中，div默认高度不低于它字体的行高，一般最低高度达到18px，所以要设div高度小于18px有两种方法：<br><br>1：div{ height: 1px; overflow: hidden; } 推荐，这个高度最准确<br><br>2: div{ height: 1px; font-size: 0; }, 这个还是会有误差 <br></p>
<h3 id="4-用过哪些css的伪元素，用在什么地方"><a href="#4-用过哪些css的伪元素，用在什么地方" class="headerlink" title="4.用过哪些css的伪元素，用在什么地方"></a>4.用过哪些css的伪元素，用在什么地方</h3><p><strong>css中伪类有</strong> <br><br><strong>常用伪类</strong> <code>:link,:visited,:hover,:active</code> <br><br><strong>结构性伪类</strong> <code>:first-child</code>（li:first-child所有元素中的第一个li元素），<code>:first-of-type</code>(在父容器内其所有种类元素的第一个元素), <code>:last-child</code>, <code>:last-of-type</code>, <code>:not</code>, <code>:nth-child(n)</code>, <code>:nth-last-child(n)</code>, <code>:nth-of-type(n)</code>,  <code>:nth-last-of-type(n)</code>, <code>:only-child</code>(只有一个孩子的父元素), <code>:only-of-type</code>(指定一个元素没有特殊类型的兄弟元素), <code>:target</code>(如article具有target的ID，当浏览器中的URL以#target结束时，其将会被指定) <br><br><strong>验证性伪类</strong> <code>:checked, :default, :disabled, :empty, :enabled, :in-range, :out-of-range, :indeterminate</code>(输入元素没有被选择的元素，如单选按钮或复选框，未选中或页面加载后未选中的元素), <code>:valid, :invalid,     :required, :optional</code>(表单中没有被required的输入区域), <code>:read-only, :read-write, :scope, :dir(ltr/rtl),:lang(l)</code>(匹配一个元素的语言与HTML属性中的lang=”l”), <code>:root</code>(文档中最高级父元素), <code>:fullscreen</code>(指定元素在全屏模式下显示) <br><br><strong>css中伪元素有</strong>(css3规定用双冒号表示伪元素，以与伪类进行区分，除IE8及以下不支持外，全部浏览器都支持) <br><br><code>:before, :after, ::backdrop</code>(经常和:fullscreen伪类结合使用改变最大化屏幕的背景颜色，必须使用双冒号), <code>:first-letter, :first-line, ::selection</code>(用于文档中样式被突出显示的部分,基于Gecko的浏览器需要添加版本前缀: ::-moz-selection, 仅仅在一个规则中使用前缀或者不使用前缀是不起作用的。我们需要声明两个单独的规则), <code>::placeholder</code>(这个伪元素还不是标准的一部分，它的实现可能还会有改变，所以使用时需要注意)<br><br>参考：<a href="http://www.w3cplus.com/css/an-ultimate-guide-to-css-pseudo-classes-and-pseudo-elements.html" target="_blank" rel="external">http://www.w3cplus.com/css/an-ultimate-guide-to-css-pseudo-classes-and-pseudo-elements.html</a></p>
<h3 id="5-实现两个div各占50-的宽度"><a href="#5-实现两个div各占50-的宽度" class="headerlink" title="5.实现两个div各占50%的宽度"></a>5.实现两个div各占50%的宽度</h3><p>flex, grid布局</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/15/flex布局基本语法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/15/flex布局基本语法/" itemprop="url">flex布局基本语法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-15T09:42:30+08:00">
                2017-03-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/15/flex布局基本语法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/03/15/flex布局基本语法/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/03/15/flex布局基本语法/" class="leancloud_visitors" data-flag-title="flex布局基本语法">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>浏览器支持：chrome21+，Opera12.1+，Firefox22+，Safari6.1+，IE10+<br>任何一个容器，包括行内元素都可以使用flex布局（display：flex／inline-flex）。Webkit内核的浏览器（ios8以下）必须加上-webkit前缀（display：-webkit-flex）。flex布局中，子元素的float，clear，vertical-align属性会失效。</p>
<h2 id="flex布局基本概念"><a href="#flex布局基本概念" class="headerlink" title="flex布局基本概念"></a>flex布局基本概念</h2><p>flex布局的元素称为flex容器（flex-container），它所有的子元素自动成为容器成员（flex-item），容器存在两根轴：水平的主轴和垂直的交叉轴，都以边框为起点。flex-item默认沿主轴排列，单个item的主轴空间（默认为宽）称作main size，交叉轴空间（默认为高）称作cross size</p>
<h2 id="flex容器的属性"><a href="#flex容器的属性" class="headerlink" title="flex容器的属性"></a>flex容器的属性</h2><p>共 <strong>flex-direction／flex-wrap／flex-flow／justify-content／align-items／align-content</strong> 6个属性</p>
<h3 id="1-flex-direction"><a href="#1-flex-direction" class="headerlink" title="1.flex-direction"></a>1.flex-direction</h3><p>定义主轴方向（item排列方向）<br><strong>flex-direction：row | row-reverse | column | column-reverse</strong><br>row：水平方向，默认起点为左边；column：垂直方向，默认起点为上边</p>
<h3 id="2-flex-wrap"><a href="#2-flex-wrap" class="headerlink" title="2.flex-wrap"></a>2.flex-wrap</h3><p>默认所有item在一行显示，这个属性决定是否换行显示<br><strong>flex-wrap：nowrap | wrap | wrap-reverse</strong><br>nowrap不换行；wrap换行，第一行在上边；wrap-reverse换行，第一行在下边</p>
<h3 id="3-flex-flow"><a href="#3-flex-flow" class="headerlink" title="3.flex-flow"></a>3.flex-flow</h3><p>是flex-direction和flex-wrap属性的简写形式，默认值是row nowrap</p>
<h3 id="4-justify-content"><a href="#4-justify-content" class="headerlink" title="4.justify-content"></a>4.justify-content</h3><p>定义item在主轴上的对齐方式<br><strong>justify-content：flex-start | flex-end | center | space-between | space-around</strong><br>flex-start主轴起点对齐；flex-end主轴终点对齐；center居中；space-between两端对齐，item之间有间隔；space-around每个item两侧的间隔相等，item之间的间隔比与边框的间隔大一倍</p>
<h3 id="5-align-items"><a href="#5-align-items" class="headerlink" title="5.align-items"></a>5.align-items</h3><p>定义item在交叉轴上的对齐方式<br><strong>align-items：flex-start | flex-end | center | baseline | stretch</strong><br>flex-start交叉轴起点对齐；flex-end交叉轴终点对齐；center居中；baseline与item的第一行文字的基线对齐；stretch（默认值）若item未设置高度或高度设置为auto，将占满整个容器的高度</p>
<h3 id="6-align-content"><a href="#6-align-content" class="headerlink" title="6.align-content"></a>6.align-content</h3><p>定义多根轴线（多行）的对齐方式，如果items只有一条轴线，该属性不起作用<br><strong>align-content：flex-start | flex-end | center | space-between | space-around | stretch</strong><br>flex-start与交叉轴起点对齐；flex-end与交叉轴终点对齐；center与交叉轴中点对齐；space-between交叉轴两端对齐，轴线之间间隔平均分布；space-around每根轴线两侧的间隔都相等；stretch（默认）占满整个交叉轴</p>
<h2 id="item的属性"><a href="#item的属性" class="headerlink" title="item的属性"></a>item的属性</h2><p>共 <strong>order| flex-grow | flex-shrink | flex-basis | flex | align-self</strong> 6个属性</p>
<h3 id="1-order"><a href="#1-order" class="headerlink" title="1.order"></a>1.order</h3><p>定义item的排列顺序，数值越小，排列越前，默认是0<br>order：整数；</p>
<h3 id="2-flex-grow"><a href="#2-flex-grow" class="headerlink" title="2.flex-grow"></a>2.flex-grow</h3><p>定义如果存在剩余空间，item的放大比例。<br>默认为0：存在剩余空间，也不放大<br><strong>flex-grow：数字；</strong></p>
<h3 id="3-flex-shrink"><a href="#3-flex-shrink" class="headerlink" title="3.flex-shrink"></a>3.flex-shrink</h3><p>定义了item的缩小比例，默认为1:如果空间不足，项目将会缩小<br><strong>flex-shrink：数字；</strong><br>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。</p>
<h3 id="4-flex-basis"><a href="#4-flex-basis" class="headerlink" title="4.flex-basis"></a>4.flex-basis</h3><p>定义了在分配多余空间之前，item占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小。<br><strong>flex-basis：数值 | auto；</strong></p>
<h3 id="5-flex"><a href="#5-flex" class="headerlink" title="5.flex"></a>5.flex</h3><p>flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。<br><strong>flex：none | auto | [flex-grow flex-shrink？|| flex-basis]</strong><br>auto（1 1 auto），none（0 0 auto）<br>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。</p>
<h3 id="6-align-self"><a href="#6-align-self" class="headerlink" title="6.align-self"></a>6.align-self</h3><p>允许单个item与其他item有不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。<br><strong>align-self：auto | flex-start | flex-end | center | baseline | stretch；</strong></p>
<p>参考：<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/12/css元素居中总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/12/css元素居中总结/" itemprop="url">css元素居中总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-12T16:35:31+08:00">
                2017-03-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/12/css元素居中总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/03/12/css元素居中总结/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/03/12/css元素居中总结/" class="leancloud_visitors" data-flag-title="css元素居中总结">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h2><h3 id="1-inline或inline-的元素"><a href="#1-inline或inline-的元素" class="headerlink" title="1.inline或inline-*的元素"></a>1.inline或inline-*的元素</h3><p>设块级父元素text-align为center，对inline，inline-block，inline-table，inline-flex等元素都起作用。</p>
<h3 id="2-一个block元素"><a href="#2-一个block元素" class="headerlink" title="2.一个block元素"></a>2.一个block元素</h3><p>(1)设定元素宽度，margin-left和margin-right为auto即可。<br>(2)设定父元素position：relative，子元素absolute</p>
<pre><code>.center {
    position: absolute;
    top: 0;
    left: 50%;
    margin-left: center的width; 
    //或transform: translate(-50%, 0);
}
</code></pre><p>没有float：center，我们可以用伪元素实现一个图片居中，两边段落环绕的效果，具体看<a href="https://www.zybuluo.com/mdeditor#691644" target="_blank" rel="external">https://www.zybuluo.com/mdeditor#691644</a></p>
<h3 id="3-多个block元素"><a href="#3-多个block元素" class="headerlink" title="3.多个block元素"></a>3.多个block元素</h3><p>(1) 多个元素在一行显示，且居中，设要居中元素为display：inline-block(inline-block元素之间会有默认空隙，去除方法：)或设其父元素为flex布局</p>
<pre><code>.parent {
    display: flex;
    justify-centent: center;
}
</code></pre><p>(2) 多个元素各占一行显示的方法参考上面2</p>
<h2 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h2><h3 id="1-inline或inline-的元素-1"><a href="#1-inline或inline-的元素-1" class="headerlink" title="1.inline或inline-*的元素"></a>1.inline或inline-*的元素</h3><p>(1) 一行显示：父元素内padding-top和padding-bottom相等 或者是 设置父元素line-height和height相等<br>(2) 多行显示：<br>1⃣ ️父元素的父元素display：table，父元素display：table-cell，vertical-align：center<br>2⃣ ️父元素设为flex布局，且有定高（px，%等）</p>
<pre><code>.center_parent {
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 400px;
}
</code></pre><p>3⃣️ 利用伪元素</p>
<pre><code>.parent {
    position: relative;
}
.parent:before {
    content: &quot;&quot;;
    display: inline-block;
    height: 100%;
    width: 1%;
    vertical-align: middle;
}
.parent p {
    display: inline-block;
    vertical-align: middle;
}
</code></pre><h3 id="2-block元素"><a href="#2-block元素" class="headerlink" title="2.block元素"></a>2.block元素</h3><p>(1) 知道元素的高度：元素相对父元素top：50%，margin-top：-width／2<br>(2) 不知道元素的高度：<br>1⃣️ 元素相对父元素top：50%，transform：translateY(-50%)<br>2⃣️ flex布局：父元素flex-direction：column；justify-content：center；</p>
<h2 id="水平和垂直居中"><a href="#水平和垂直居中" class="headerlink" title="水平和垂直居中"></a>水平和垂直居中</h2><p>(1) 知道元素高度和宽度</p>
<pre><code>.parent {
    position: relative;
}
.child {
    width: 300px;
    height: 100px;
    padding: 20px;
    position: absolute;
    top: 50%;
    left: 50%;
    margin: -70px 0 0 -170px;
}
</code></pre><p>(2) 不知道元素高度和宽度</p>
<pre><code>.child {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
</code></pre><p>(3) 用flex布局</p>
<pre><code>.parent {
    display: flex;
    justify-content: center;
    align-items: center;
}
</code></pre><p>参考：<a href="https://css-tricks.com/centering-css-complete-guide/" target="_blank" rel="external">https://css-tricks.com/centering-css-complete-guide/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/10/伪元素实现图片居中，文字环绕效果/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/10/伪元素实现图片居中，文字环绕效果/" itemprop="url">伪元素实现图片居中，文字环绕效果</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-10T10:22:30+08:00">
                2017-03-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/10/伪元素实现图片居中，文字环绕效果/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/03/10/伪元素实现图片居中，文字环绕效果/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/03/10/伪元素实现图片居中，文字环绕效果/" class="leancloud_visitors" data-flag-title="伪元素实现图片居中，文字环绕效果">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>利用伪元素的浮动实现<br>html结构如下：</p>
<pre><code>&lt;html&gt;
  &lt;body&gt;
    &lt;div class=&quot;wrap&quot;&gt;
      &lt;img id=&quot;logo&quot; src=&quot;#&quot;&gt;
      &lt;div id=&quot;left&quot;&gt;
        &lt;p&gt;content&lt;/p&gt;
        &lt;p&gt;content&lt;/p&gt;
      &lt;/div&gt;
      &lt;div id=&quot;right&quot;&gt;
        &lt;p&gt;content&lt;/p&gt;
        &lt;p&gt;content&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>基本样式如下,假设图片大小为250px*250px：</p>
<pre><code>.wrap {
    position: relative;
    width: 80%;
    margin: 20px auto;  //居中
}
#logo {
    position: absolute;
    top: 0;
    left: 50%;
    margin-left: -125px; 
    //不知道宽度的情况，transform: translate(-50%, 0);  
}
#left: before, 
#right: before {
    content: &quot;&quot;;
    width: 125px;
    height: 250px;
}
#left:before {
    float: right;
}
#right:before {
    float: left;
}
</code></pre><p>参考：<a href="https://css-tricks.com/float-center/" target="_blank" rel="external">https://css-tricks.com/float-center/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/float&margin collapse/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fwp">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fwp个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/02/15/float&margin collapse/" itemprop="url">关于margin collapse</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-15T14:38:30+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/15/float&margin collapse/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/02/15/float&margin collapse/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/02/15/float&margin collapse/" class="leancloud_visitors" data-flag-title="关于margin collapse">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>使用下面的例子来说明：</p>
<pre><code>&lt;div class=&quot;sibling&quot;&gt;sibling&lt;/div&gt;
&lt;div class=&quot;container clearfix&quot;&gt;
  &lt;div class=&quot;div1&quot;&gt;div1&lt;/div&gt;
  &lt;div class=&quot;div2&quot;&gt;div2&lt;/div&gt;
&lt;/div&gt;
.container {
  background: #000;
  margin-bottom: 20px;
}
.sibling {
  margin-bottom: 20px;
  width: 100%;
  height: 30px;
  background: #00f;
}
.div1 {
  width: 50px;
  height: 80px;
  float: left;
  background: #0f0;
}
.div2 {
  margin-top: 80px;
  width: 200px;
  height: 50px;
  background: #ff0;
}
.clearfix:after {
  content: &quot;&quot;; 
  display: table;
  clear: both;
}
.clearfix {zoom:1;}
</code></pre><p><img src="http://i.imgur.com/mCLJm78.png" alt=""></p>
<h3 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h3><p>因为不是很清楚margin collapse的情况，就看了MDN上关于它的说明</p>
<blockquote>
<p>Margin collapsing occurs in three basic cases:</p>
<p><font color="blue">Adjacent siblings: </font><br>The margins of adjacent siblings are collapsed (except when the later sibling needs to be cleared past floats).</p>
</blockquote>
<p>第一种情况是指相邻两个元素上下margin会合并，这种情况要排除第二个元素使用了清除浮动的情况（例子等弄明白后再补充）</p>
<h3 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h3><blockquote>
<p><font color="blue">Parent and first/last child: </font><br>If there is no border, padding, inline content, or clearance to separate the margin-top of a block from the margin-top of its first child block, or no border, padding, inline content, height, min-height, or max-height to separate the margin-bottom of a block from the margin-bottom of its last child, then those margins collapse. The collapsed margin ends up outside the parent.</p>
</blockquote>
<p>第二种情况是指块级元素与其第一个<strong>非浮动的</strong>块级子元素的margin-top，及与其最后一个<strong>非浮动的</strong>块级子元素的margin-bottom可能发生合并。<font color="red">浮动的元素不会与其他元素发生margin collapse</font></p>
<p>这种情况要求元素与子元素之间没有如border、padding、inline子元素这样的间隔。<font color="red">合并的margin最终可能跑到父元素外边去</font>，下面是图例：</p>
<p><img src="http://i.imgur.com/nRDlfl1.png" alt=""></p>
<p>这里div2与父元素container的margin-top合并了，并跑到外边去了，且与sibling的margin-bottom合并了</p>
<p>注：<strong>clearfix不能加::before{display:table;}</strong>哦，加了后display:table会产生一个新的BFC，从而隔离了父元素和div2的margin，我就是没注意这个，测试了好久都没有效果。</p>
<p>所以，将div2的margin-top改为100px，再加上::before{ display:table;}后，div2的margin也在container里边了</p>
<p><img src="http://i.imgur.com/aikCiEe.png" alt=""></p>
<h3 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h3><blockquote>
<p><font color="blue">Empty blocks:</font><br>If there is no border, padding, inline content, height, or min-height to separate a block’s margin-top from its margin-bottom, then its top and bottom margins collapse.</p>
</blockquote>
<p>这里是说空元素的margin-top和margin-bottom会互相重叠</p>
<h3 id="4-这些情况适用范围和负边距的情况"><a href="#4-这些情况适用范围和负边距的情况" class="headerlink" title="4. 这些情况适用范围和负边距的情况"></a>4. 这些情况适用范围和负边距的情况</h3><blockquote>
<p>These rules apply even to margins that are zero, so the margin of a first/last child ends up outside its parent (according to the rules above) whether or not the parent’s margin is zero.</p>
</blockquote>
<p>父元素的margin为0也适用</p>
<blockquote>
<p>When negative margins are involved, the size of the collapsed margin is the sum of the largest positive margin and the smallest (most negative) negative margin.</p>
</blockquote>
<p>当存在负的边距时，合并边距计算方法为：最大正边距与最小负边距(-10&lt;-5)之和</p>
<h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing" target="_blank" rel="external">MDN: margin collapse</a></li>
<li><a href="https://www.zhihu.com/question/36716815" target="_blank" rel="external">知乎上关于这个问题的回答</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="fwp" />
          <p class="site-author-name" itemprop="name">fwp</p>
           
              <p class="site-description motion-element" itemprop="description">知识记录</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fwp</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://fuweiping.disqus.com/count.js" async></script>
    

    

  




	





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("3XB8AXsRovxBiBFseXLXlKNq-gzGzoHsz", "S51B3iUah1f5XHWzRVLEcYqW");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  

  

</body>
</html>
